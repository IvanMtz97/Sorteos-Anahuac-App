<ActionBar class="action-bar">
    <NavigationButton ios:visibility="collapsed" icon="res://menu" (tap)="onDrawerButtonTap()"></NavigationButton>
    <ActionItem icon="res://navigation/menu" android:visibility="collapsed" (tap)="onDrawerButtonTap()"
        ios.position="left">
    </ActionItem>
    <Label class="action-bar-title" text="Sorteos Anahuac"></Label>
</ActionBar>
<RadSideDrawer #drawer showOverNavigation="true" [drawerTransition]="sideDrawerTransition">
    <StackLayout tkDrawerContent>
        <MyDrawer [selectedPage]="'Talonarios'"></MyDrawer>
    </StackLayout>
    <StackLayout orientation="vertical" tkMainContent>
        <StackLayout width="100%" height="100%" *ngIf="tieneTalonarios">
            <ScrollView height="90%" orientation="vertical" sdkExampleTitle sdkToggleNavButton>
                <StackLayout>
                    <StackLayout *ngFor="let talonario of listaTalonarios; let i = index;" [ngInit]="setInitialValue(i, listaTalonarios)">
                        <StackLayout>
                            <StackLayout (tap)="toggle(i)" orientation="horizontal" class="component-header-2">
                                <Image class="fa icon" width="6%" [src]="srcIconoTalonario[i]"></Image> 
                                <Label text="TALONARIO"></Label>
                                <Label class="txtorange" [text]="talonario.talonario"></Label>
                                <Image style="margin-left:35%;" width="6%" [src]="srcFlecha[i]"></Image>
                            </StackLayout>
                        </StackLayout>
                        <StackLayout backgroundColor="#f7f7f7" height="1em"></StackLayout>
                        <StackLayout visibility="{{ showDetails[i] ? 'visible' : 'collapsed' }}" class="contenido" orientation="vertical">
                            <!-- BOLETOS PENDIENTES-->
                            <StackLayout visibility="{{ validaStackBolPen[i] ? 'visible' : 'collapsed' }}">
                                <StackLayout orientation="horizontal" class="component-header-3">
                                    <Label text="PENDIENTES"></Label>
                                    <Label class="txtorange" [text]="cantBolPendientes[i]"></Label>
                                </StackLayout>
                                <GridLayout class="component-header-4" columns="auto, auto, *" rows="auto, auto, auto" *ngFor="let boletoPendiente of talonario.pendientes; let i_pendiente = index">
                                    <StackLayout class="vb-item" col="0" [row]="i_pendiente">
                                        <CheckBox #makeup (checkedChange)="toggleCheck(makeup, boletoPendiente, index)" checked="false"></CheckBox>
                                    </StackLayout>
                                    <Label col="1" [row]="i_pendiente" [text]="boletoPendiente.numero"></Label>  
                                    <Label col="2" [row]="i_pendiente" class="text2" style="text-align:right;" row="0" text="Vender >" (tap)="VentaBoleto(boletoPendiente, talonario)" *ngIf="!hideBottonSales"></Label>
                                </GridLayout>
                            </StackLayout>
                            <!--FIN BOLETOS  PENDIENTES-->
                            <!--BOLETOS ASIGNADOS-->
                            <StackLayout visibility="{{ validaStackBolAsig[i] ? 'visible' : 'collapsed' }}">
                                <StackLayout orientation="horizontal" class="component-header-3">
                                    <Label text="PAGADOS"></Label>
                                    <Label class="txtorange" [text]="cantBolAsignados[i]"></Label>
                                </StackLayout>
                                <GridLayout class="component-header-4" columns="auto, auto, *" rows="auto, auto, auto" *ngFor="let boletoAsignado of talonario.asignados; let i_asignado = index">
                                    <Label col="0" [row]="i_asignado" [text]="boletoAsignado.numero"></Label>
                                    <Label col="1" [row]="i_asignado" class="text3" text="- Eduardo Vazquez"></Label>
                                    <Label col="2" [row]="i_asignado" class="text2" style="text-align:right;" row="0" text="Consultar >"></Label>
                                </GridLayout>
                            </StackLayout>
                            <!--FIN BOLETOS ASIGNADOS-->
                            <!--BOLETOS VENDIDOS-->
                            <StackLayout visibility="{{ validaStackBolVen[i] ? 'visible' : 'collapsed' }}">
                                <StackLayout orientation="horizontal" class="component-header-3">
                                    <Label text="VENDIDOS NO PAGADOS"></Label>
                                    <Label class="txtorange" [text]="cantBolVendidos[i]"></Label>
                                </StackLayout> 
                                <GridLayout class="component-header-4" columns="auto, auto, *" rows="auto, auto, auto" *ngFor="let boletoVendido of talonario.vendidos; let i_vendido = index">                        
                                    <Label col="0" [row]="i" [text]="boletoVendido.numero"></Label>
                                    <Label col="1" [row]="i" class="text3" text="- Eduardo Vazquez"></Label>
                                    <Label col="2" [row]="i" class="text2" style="text-align:right;" row="0" text="Pagar >" (tap)="ConsultaBoleto(boletoVendido, talonario)"></Label>    
                                </GridLayout>
                            </StackLayout> 
                            <!--FIN BOLETOS VENDIDOS--> 
                        </StackLayout>
                    </StackLayout> 
                </StackLayout>
            </ScrollView>
            <StackLayout height="10%" *ngIf="hideBottonSales">
                <StackLayout class="btn-img"  orientation="horizontal" (tap)="VenderBoletos()" width="100%">
                    <Image src="res://icono_boleto"  width="10%" height="100%" marginRight="10"></Image>
                    <Label text="VENDER VARIOS BOLETOS >" verticalAlignment="center"></Label>
                </StackLayout>
            </StackLayout>
        </StackLayout>
        <StackLayout width="100%" height="100%" *ngIf="!tieneTalonarios">
            <StackLayout style="padding-top: 100%;padding-bottom: 10%">                      
                <Label
                    class="page-text-2"
                    [text]="noTieneTalonariosTexto"
                    textWrap="true"
                    style="color:gray;font-size:20%;text-align: center;padding-left: 70%;padding-right: 70%;padding-bottom: 30%">
                </Label>                    
            </StackLayout>
        </StackLayout>
    </StackLayout>
</RadSideDrawer>